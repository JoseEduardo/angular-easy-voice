!function(e){function n(i){if(t[i])return t[i].exports;var o=t[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="/",n(0)}([function(e,n,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var o=t(1),a=i(o);angular.module("angular-easy-voice",[]).service("EasyVoice",a.default)},function(e,n){"use strict";function t(e,n){var t=this;e.AudioContext=e.AudioContext||e.webkitAudioContext;var i={},o=void 0,a=new AudioContext,r=void 0,s=void 0,c=void 0,l=void 0,u=void 0,d=void 0,g=void 0,v=void 0,h=void 0,f=!1,p=!0,m=void 0,y=void 0,w=void 0,x=void 0,S=[],k=(window.URL||window.webkitURL||window,new DOMParser),b=document.getElementsByTagName("body")[0],A=document.head||document.getElementsByTagName("head")[0],C=void 0,F='\n        <div id="angular-easy-voice-container">\n          <div style="margin-top: 10%;">\n          <button class="" id="angular-easy-voice-microphone">\n              <svg width="64" version="1.1" xmlns="http://www.w3.org/2000/svg" height="64" viewBox="0 0 64 64" xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 64 64">\n                <g>\n                  <g fill="red">\n                    <path d="m43.18,37.155v-25.458c0-6.236-5.074-11.311-11.311-11.311-6.237,0-11.312,5.074-11.312,11.311v25.458c0,6.237 5.074,11.312 11.312,11.312 6.236,0 11.311-5.074 11.311-11.312zm-18.598,0v-25.458c0-4.018 3.27-7.287 7.287-7.287 4.016,0 7.285,3.27 7.285,7.287v25.458c0,4.018-3.27,7.286-7.285,7.286-4.017,0-7.287-3.268-7.287-7.286z"/>\n                    <path d="m31.869,64c1.111,0 2.011-0.9 2.011-2.012v-6.468c11.677-1.024 20.87-10.842 20.87-22.779 0-1.112-0.9-2.014-2.013-2.014s-2.013,0.901-2.013,2.014c0,10.397-8.457,18.855-18.855,18.855-10.399,0-18.857-8.458-18.857-18.855 0-1.112-0.9-2.014-2.012-2.014-1.113,0-2.014,0.901-2.014,2.014 0,11.938 9.192,21.755 20.87,22.779v6.469c-3.55271e-15,1.111 0.901,2.011 2.013,2.011z"/>\n                  </g>\n                </g>\n              </svg>\n          </div>\n          <div style="margin-top: 2%;">\n            <label id="angular-easy-voice-text"></label>\n          </div>\n        </div>\n    ',q="\n\n          #angular-easy-voice-container{\n              position: absolute;\n              left: 0;\n              top: 0;\n              width: 100%;\n              height: 100%;\n              background: #fff;\n              text-align: center;\n              z-index: 99999;\n          }\n\n          #angular-easy-voice-microphone{\n              background: transparent;\n              border: 1px solid #ccc;\n              border-radius: 62%;\n              padding: 30px;\n          }\n\n          #angular-easy-voice-text{\n              color: #777;\n              font-weight: normal;\n              font-family: arial,sans-serif;\n              line-height: 1.2;\n              transition: opacity .1s ease-in,margin-left .5s ease-in,top 0s linear 0.218s;\n              font-size: 32px;\n          }\n\n    ";if(navigator.getUserMedia||(navigator.getUserMedia=navigator.webkitGetUserMedia||navigator.mozGetUserMedia),navigator.cancelAnimationFrame||(navigator.cancelAnimationFrame=navigator.webkitCancelAnimationFrame||navigator.mozCancelAnimationFrame),navigator.requestAnimationFrame||(navigator.requestAnimationFrame=navigator.webkitRequestAnimationFrame||navigator.mozRequestAnimationFrame),"SpeechSynthesisUtterance"in e){g=new SpeechSynthesisUtterance;var M=window.speechSynthesis.getVoices();g.lang="en-US",g.localService=!0,g.voice=M[5]}return"webkitSpeechRecognition"in e&&!function(){o=new webkitSpeechRecognition,C=k.parseFromString(F,"text/html"),v=C.getElementById("angular-easy-voice-container"),h=v.querySelector("#angular-easy-voice-microphone");var e=document.createElement("style"),i=v.querySelector("#angular-easy-voice-text");e.type="text/css",e.styleSheet?e.styleSheet.cssText=q:e.appendChild(document.createTextNode(q)),A.appendChild(e),o.continuous=!1,o.interimResults=!0,o.lang="en-US",o.onresult=function(e){void 0!=x&&(n.cancel(x),x=void 0),x=n(function(){f=!1,null!=b.querySelector("#angular-easy-voice-container")&&b.removeChild(v)},5e3);for(var t=e.resultIndex;t<e.results.length;++t)i.innerHTML=e.results[t][0].transcript,w&&"function"==typeof w&&e.results[t].isFinal&&f&&w(e.results[t][0].transcript),y.debug&&e.results[t].isFinal&&console.info("Debug: "+e.results[t][0].transcript),m&&m.trim()==e.results[t][0].transcript.trim()&&!f&&e.results[t].isFinal&&(f=!0,null!=b.querySelector("#angular-easy-voice-container")&&b.removeChild(v),v.onclick=function(){f=!1,b.removeChild(v)},i.innerHTML="Fale agora",b.appendChild(v)),f&&e.results[t].isFinal&&S.forEach(function(n){if(n.key&&n.callback&&n.watchStart&&e.results[t][0].transcript.startsWith(n.key)||n.key&&n.callback&&e.results[t][0].transcript==n.key)return n.close&&(f=!1,null!=b.querySelector("#angular-easy-voice-container")&&b.removeChild(v)),void n.callback(e.results[t][0].transcript)})},o.onend=function(){p&&t.initRecognition()}}(),i.initWatch=function(n,i,o){if(!("webkitSpeechRecognition"in e))throw"Sorry, this feature is only for Google Chrome.";if(!n)throw"Please enter the key phrase.";if(m)throw"Sorry, start only once.";y=i,m=n,w=o,t.initRecognition()},i.reproduce=function(e,n){g.lang=n||(y&&y.lang?y.lang:"en-US"),g.text=e,speechSynthesis.speak(g)},i.stopWatch=function(){if(!("webkitSpeechRecognition"in e))throw"Sorry, this feature is only for Google Chrome.";void 0!=o&&(y=void 0,m=void 0,p=!1,f=!1,o.stop()),void 0!=u&&(u.getAudioTracks().forEach(function(e){e.stop()}),u.getTracks().forEach(function(e){e.stop()}),u.stop&&u.stop()),null!=d&&e.cancelAnimationFrame(d),u=void 0},i.addCommand=function(e,n,t,i){if(S.filter(function(n){return n.key==e}).length>0)throw"A command with this key already exists";if(!e||"string"!=typeof e||!n||"function"!=typeof n)throw"Please enter a phrase and one function.";void 0!=t&&"boolean"==typeof t||(t=!0),void 0!=i&&"boolean"==typeof i||(i=!1),S.push({key:e,callback:n,close:t,watchStart:i})},i.addCommandStartingWith=function(e,n,t){i.addCommand(e,n,t,!0)},this.updateAnalysers=function(){if(f){var n=new Uint8Array(l.frequencyBinCount);l.getByteFrequencyData(n);for(var i=l.frequencyBinCount/10,o=0;o<10;++o){for(var a=0,r=Math.floor(o*i),s=0;s<i;s++)a+=n[r+s];a/=i,4==o&&(h.style.boxShadow="0px 0px 13px "+Math.round(a-5)+"px #ddd")}}d=e.requestAnimationFrame(t.updateAnalysers)},this.stream=function(e){u=e,r=a.createGain(),s=a.createMediaStreamSource(e),c=s,c.connect(r),l=a.createAnalyser(),l.fftSize=2048,r.connect(l),t.updateAnalysers()},this.initRecognition=function(){y&&angular.extend(o,y),p=!0,void 0==u&&navigator.getUserMedia({audio:{mandatory:{googEchoCancellation:"false",googAutoGainControl:"false",googNoiseSuppression:"false",googHighpassFilter:"false"},optional:[]}},t.stream,function(e){throw"Please, check your microphone."}),o.start()},i}Object.defineProperty(n,"__esModule",{value:!0}),n.default=t,t.$inject=["$window","$timeout"]}]);
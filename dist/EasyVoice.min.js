!function(e){function n(o){if(t[o])return t[o].exports;var i=t[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var t={};return n.m=e,n.c=t,n.p="/",n(0)}([function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var i=t(1),a=o(i);angular.module("angular-easy-voice",[]).service("EasyVoice",a.default)},function(e,n){"use strict";function t(e,n){var t=this;e.AudioContext=e.AudioContext||e.webkitAudioContext;var o={},i=void 0,a=new AudioContext,r=void 0,s=void 0,c=void 0,l=void 0,u=void 0,d=void 0,g=void 0,v=void 0,p=void 0,h=!1,f=!0,m=void 0,y=void 0,w=void 0,x=void 0,S=[],k=(window.URL||window.webkitURL||window,new DOMParser),b=document.getElementsByTagName("body")[0],_=document.head||document.getElementsByTagName("head")[0],A=void 0,C='\n        <div id="angular-easy-voice-container">\n          <div style="margin-top: 10%;">\n          <button class="" id="angular-easy-voice-microphone">\n              <svg width="64" version="1.1" xmlns="http://www.w3.org/2000/svg" height="64" viewBox="0 0 64 64" xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 64 64">\n                <g>\n                  <g fill="red">\n                    <path d="m43.18,37.155v-25.458c0-6.236-5.074-11.311-11.311-11.311-6.237,0-11.312,5.074-11.312,11.311v25.458c0,6.237 5.074,11.312 11.312,11.312 6.236,0 11.311-5.074 11.311-11.312zm-18.598,0v-25.458c0-4.018 3.27-7.287 7.287-7.287 4.016,0 7.285,3.27 7.285,7.287v25.458c0,4.018-3.27,7.286-7.285,7.286-4.017,0-7.287-3.268-7.287-7.286z"/>\n                    <path d="m31.869,64c1.111,0 2.011-0.9 2.011-2.012v-6.468c11.677-1.024 20.87-10.842 20.87-22.779 0-1.112-0.9-2.014-2.013-2.014s-2.013,0.901-2.013,2.014c0,10.397-8.457,18.855-18.855,18.855-10.399,0-18.857-8.458-18.857-18.855 0-1.112-0.9-2.014-2.012-2.014-1.113,0-2.014,0.901-2.014,2.014 0,11.938 9.192,21.755 20.87,22.779v6.469c-3.55271e-15,1.111 0.901,2.011 2.013,2.011z"/>\n                  </g>\n                </g>\n              </svg>\n          </div>\n          <div style="margin-top: 2%;">\n            <label id="angular-easy-voice-text"></label>\n          </div>\n        </div>\n    ',F="\n\n          #angular-easy-voice-container{\n              position: absolute;\n              left: 0;\n              top: 0;\n              width: 100%;\n              height: 100%;\n              background: #fff;\n              text-align: center;\n              z-index: 99999;\n          }\n\n          #angular-easy-voice-microphone{\n              background: transparent;\n              border: 1px solid #ccc;\n              border-radius: 62%;\n              padding: 30px;\n          }\n\n          #angular-easy-voice-text{\n              color: #777;\n              font-weight: normal;\n              font-family: arial,sans-serif;\n              line-height: 1.2;\n              transition: opacity .1s ease-in,margin-left .5s ease-in,top 0s linear 0.218s;\n              font-size: 32px;\n          }\n\n    ";if(navigator.getUserMedia||(navigator.getUserMedia=navigator.webkitGetUserMedia||navigator.mozGetUserMedia),navigator.cancelAnimationFrame||(navigator.cancelAnimationFrame=navigator.webkitCancelAnimationFrame||navigator.mozCancelAnimationFrame),navigator.requestAnimationFrame||(navigator.requestAnimationFrame=navigator.webkitRequestAnimationFrame||navigator.mozRequestAnimationFrame),"SpeechSynthesisUtterance"in e){g=new SpeechSynthesisUtterance;var q=window.speechSynthesis.getVoices();g.lang="en-US",g.localService=!0,g.voice=q[5]}return"webkitSpeechRecognition"in e&&!function(){i=new webkitSpeechRecognition,A=k.parseFromString(C,"text/html"),v=A.getElementById("angular-easy-voice-container"),p=v.querySelector("#angular-easy-voice-microphone");var e=document.createElement("style"),o=v.querySelector("#angular-easy-voice-text");e.type="text/css",e.styleSheet?e.styleSheet.cssText=F:e.appendChild(document.createTextNode(F)),_.appendChild(e),i.continuous=!1,i.interimResults=!0,i.lang="en-US",i.onresult=function(e){void 0!=x&&(n.cancel(x),x=void 0),x=n(function(){h=!1,null!=b.querySelector("#angular-easy-voice-container")&&b.removeChild(v)},5e3);for(var t=e.resultIndex;t<e.results.length;++t)o.innerHTML=e.results[t][0].transcript,w&&"function"==typeof w&&e.results[t].isFinal&&h&&w(e.results[t][0].transcript),y.debug&&e.results[t].isFinal&&console.info("Debug: "+e.results[t][0].transcript),m&&m.trim()==e.results[t][0].transcript.trim()&&!h&&e.results[t].isFinal&&(h=!0,null!=b.querySelector("#angular-easy-voice-container")&&b.removeChild(v),v.onclick=function(){h=!1,b.removeChild(v)},o.innerHTML="Fale agora",b.appendChild(v)),h&&e.results[t].isFinal&&S.forEach(function(n){if(n.key&&n.callback&&n.watchStart&&e.results[t][0].transcript.startsWith(n.key)||n.key&&n.callback&&e.results[t][0].transcript==n.key)return n.close&&(h=!1,null!=b.querySelector("#angular-easy-voice-container")&&b.removeChild(v)),void n.callback(e.results[t][0].transcript)})},i.onend=function(){f&&t.initRecognition()}}(),o.__proto__.initWatch=function(n,o,i){if(!("webkitSpeechRecognition"in e))throw"Sorry, this feature is only for Google Chrome.";if(!n)throw"Please enter the key phrase.";if(m)throw"Sorry, start only once.";y=o,m=n,w=i,t.initRecognition()},o.__proto__.reproduce=function(e,n){g.lang=n||(y&&y.lang?y.lang:"en-US"),g.text=e,speechSynthesis.speak(g)},o.__proto__.stopWatch=function(){if(!("webkitSpeechRecognition"in e))throw"Sorry, this feature is only for Google Chrome.";void 0!=i&&(y=void 0,m=void 0,f=!1,h=!1,i.stop()),void 0!=u&&(u.getAudioTracks().forEach(function(e){e.stop()}),u.getTracks().forEach(function(e){e.stop()}),u.stop&&u.stop()),null!=d&&e.cancelAnimationFrame(d),u=void 0},o.__proto__.addCommand=function(e,n,t,o){if(S.filter(function(n){return n.key==e}).length>0)throw"A command with this key already exists";if(!e||"string"!=typeof e||!n||"function"!=typeof n)throw"Please enter a phrase and one function.";void 0!=t&&"boolean"==typeof t||(t=!0),void 0!=o&&"boolean"==typeof o||(o=!1),S.push({key:e,callback:n,close:t,watchStart:o})},o.__proto__.addCommandStartingWith=function(e,n,t){o.addCommand(e,n,t,!0)},this.updateAnalysers=function(){if(h){var n=new Uint8Array(l.frequencyBinCount);l.getByteFrequencyData(n);for(var o=l.frequencyBinCount/10,i=0;i<10;++i){for(var a=0,r=Math.floor(i*o),s=0;s<o;s++)a+=n[r+s];a/=o,4==i&&(p.style.boxShadow="0px 0px 13px "+Math.round(a-5)+"px #ddd")}}d=e.requestAnimationFrame(t.updateAnalysers)},this.stream=function(e){u=e,r=a.createGain(),s=a.createMediaStreamSource(e),c=s,c.connect(r),l=a.createAnalyser(),l.fftSize=2048,r.connect(l),t.updateAnalysers()},this.initRecognition=function(){y&&angular.extend(i,y),f=!0,void 0==u&&navigator.getUserMedia({audio:{mandatory:{googEchoCancellation:"false",googAutoGainControl:"false",googNoiseSuppression:"false",googHighpassFilter:"false"},optional:[]}},t.stream,function(e){throw"Please, check your microphone."}),i.start()},o}Object.defineProperty(n,"__esModule",{value:!0}),n.default=t,t.$inject=["$window","$timeout"]}]);